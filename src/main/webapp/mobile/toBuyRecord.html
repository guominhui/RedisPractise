<!DOCTYPE html>

<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->

<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->

<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->


<!-- BEGIN HEAD -->

<head>

<meta charset="utf-8" />

<title>趣友欢乐游戏_推广员代理个人中心_代理后台</title>
<link rel="Shortcut Icon" href=../img/quyou.png>
<meta content="width=device-width, initial-scale=1.0" name="viewport" />

<meta name="description"
	content="趣友欢乐游戏商户管理系统是提供给趣友平台代理充值房卡的后台登录网站。代理登陆趣友麻将代理后台后即可充值房卡。" />

<meta name="keywords" content="趣友欢乐游戏代理后台" />

<meta content="趣友欢乐游戏 www.***.com" name="author" />

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="format-detection" content="telephone=no" />

<!-- BEGIN GLOBAL MANDATORY STYLES -->

<link href="../css/mobile/bootstrap.min.css?t=20170928" rel="stylesheet"
	type="text/css" />

<link href="../css/mobile/bootstrap-responsive.min.css?t=20170928"
	rel="stylesheet" type="text/css" />

<link href="../css/mobile/font-awesome.min.css?t=20170928"
	rel="stylesheet" type="text/css" />

<link href="../css/mobile/style-metro.css?t=20170928" rel="stylesheet"
	type="text/css" />

<link href="../css/mobile/style.css?t=20170928" rel="stylesheet"
	type="text/css" />

<link href="../css/mobile/style-responsive.css?t=20170928"
	rel="stylesheet" type="text/css" />

<link href="../css/mobile/default.css?t=20170928" rel="stylesheet"
	type="text/css" id="style_color" />

<link href="../css/mobile/uniform.default.css?t=20170928"
	rel="stylesheet" type="text/css" />

<link href="../css/mobile/bootstrap-select.css?t=20170928"
	rel="stylesheet" type="text/css" />
<link href="../bower_components/My97DatePicker/skin/WdatePicker.css"
	rel="stylesheet" type="text/css" />


<style type="text/css" mce_bogus="1">
table th {
	white-space: nowrap;
}

table td {
	white-space: nowrap;
}

body, table {
	font-size: 12px;
}

table {
	width: 100%;
	empty-cells: show;
	border-collapse: collapse;
	margin: 0 auto;
	empty-cells: show;
}

h1, h2, h3 {
	font-size: 12px;
	margin: 0;
	padding: 0;
}

table.tab_css_1 {
	border: 1px solid #cad9ea;
	color: #666;
}

table.tab_css_1 th {
	/* background-image: url("th_bg1.gif"); */
	background-repeat: repeat-x;
	height: 30px;
}

table.tab_css_1 td, table.tab_css_1 th {
	border: 1px solid #cad9ea;
	padding: 0 1em 0;
}

table.tab_css_1 tr {
	background-color: #f5fafe;
	height: 30px;
}

.scroll-panel {
	overflow: scroll;
	overflow-y: hidden;
}

.scroll-panel::-webkit-scrollbar-track-piece {
	background-color: rgba(0, 0, 0, 0);
	border-left: 1px solid rgba(0, 0, 0, 0);
}

.scroll-panel::-webkit-scrollbar {
	width: 5px;
	height: 2px;
	-webkit-border-radius: 5px;
	-moz-border-radius: 5px;
	border-radius: 5px;
}

.scroll-panel::-webkit-scrollbar-thumb {
	background-color: rgba(0, 0, 0, 0.5);
	background-clip: padding-box;
	-webkit-border-radius: 5px;
	-moz-border-radius: 5px;
	border-radius: 5px;
	min-height: 28px;
}

.scroll-panel::-webkit-scrollbar-thumb:hover {
	background-color: rgba(0, 0, 0, 0.5);
	-webkit-border-radius: 5px;
	-moz-border-radius: 5px;
	border-radius: 5px;
}
</style>
<!-- END GLOBAL MANDATORY STYLES -->

<!-- BEGIN PAGE LEVEL STYLES -->
<link href="../css/mobile/chosen.css?t=20170928" rel="stylesheet"
	type="text/css" />
<link href="../css/mobile/select2_metro.css?t=20170928" rel="stylesheet"
	type="text/css" />
<!-- <link href="../css/mobile/DT_bootstrap.css?t=20170928" rel="stylesheet"
	type="text/css" /> -->
<link href="../css/mobile/center.css?t=20171205" rel="stylesheet"
	type="text/css" />
<!-- <link href="../css/bootstrap-cerulean.min.css" rel="stylesheet"
	type="text/css" /> -->
<link href="../css/mobile/dataTables.bootstrap.css" rel="stylesheet"
	type="text/css" />
<link href="../bower_components/responsive-tables/responsive-tables.css"
	rel="stylesheet" type="text/css" />
<link href="../css/charisma-app-shadow.css" rel="stylesheet"
	type="text/css" />



<!-- END PAGE LEVEL STYLES -->

<link rel="shortcut icon" href="image/xianlai1.ico" />
<!-- <script src="My97DatePicker/WdatePicker.js"></script> -->
</head>
<body class="page-header-fixed">
	<div class="header navbar navbar-inverse navbar-fixed-top"
		style="position: absolute;">
		<div class="navbar-inner"
			style="height: auto;background-color: #212121 !important;">
			<div class="container-fluid">
				<ul class="nav pull-left" style="margin-right:0;">
					<li class="dropdown" id="header_notification_bar"><a href="#"
						class="dropdown-toggle" data-toggle="dropdown"> <i
							class="icon-reorder"></i> 更多操作 <!--<span class="badge"><div id="username"></div></span>-->
					</a>
						<ul class="dropdown-menu extended notification"
							style="max-width:10px !important;">
							<li><a href="toNavigation.html"> <i class="icon-home"></i>回到首页
							</a></li>
							<li><a href="toFriendGiftCard.html?v=20180620"> <i
									class="icon-user-md"></i>添加房卡
							</a></li>
							<li><a href="toBuyRecord.html"> <i class="icon-bullhorn"></i>购卡记录
							</a></li>
							<li><a href="toSellRecord.html"> <i
									class="icon-credit-card"></i>售卡记录
							</a></li>
							<li><a href="toAddProxy.html"> <i class="icon-dollar"></i>添加代理
							</a></li>
							<li><a id="addProxy" href="toMyAgent.html"> <i
									class="icon-sitemap"></i>我的代理
							</a></li>
							<li><a id="distribution" href="toDistribution.html"> <i
									class="icon-fighter-jet"></i>分销列表
							</a></li>
							<li><a id="distributionRecord" href="toDistRecord.html">
									<i class="icon-h-sign"></i>分销记录
							</a></li>
							<li><a id="exchangeBonus" href="toExchangeBonus.html"> <i
									class="icon-anchor"></i>积分商城
							</a></li>
							<li><a id="myProxy" href="toRepass.html"> <i
									class="icon-user"></i>修改密码
							</a></li>
							<!-- <li><a href="toMyInfo.html"> <i class="icon-user"></i>修改密码
							</a></li> -->
							<!-- <li><a href="toHelp.html"> <i class="icon-bullhorn"></i>帮助中心
							</a></li> -->
							<li id="Logout"><a href="#" onclick="doLogout()"> <i
									class="icon-signout"></i>退出
							</a></li>
						</ul></li>
				</ul>
				<ul class="nav pull-right" style="margin-right:0;">
					<li style="float: right;position:relative;/*padding-right:32px;*/">
						<span style="color:#fff;font-size:1em;line-height:40px;">ID:<span
							id="pageID"></span></span>
						<div class="badge">
							<div id="mycounttop" class="player-head"></div>
						</div> <!-- <a class="more" id="moreCard" href="/agent/toGameRecharge?t=1516867241644">
								<img class="plus" src="img/more.png"></img>
							</a> -->
					</li>
				</ul>
			</div>
		</div>
	</div>
	<div class="page-container row-fluid">
		<!-- END SIDEBAR -->

		<!-- BEGIN PAGE -->

		<div class="page-content">

			<!-- BEGIN SAMPLE PORTLET CONFIGURATION MODAL FORM-->

			<!-- END SAMPLE PORTLET CONFIGURATION MODAL FORM-->

			<!-- BEGIN PAGE CONTAINER-->

			<div class="container-fluid">

				<!-- BEGIN PAGE CONTENT-->

				<div class="row-fluid">

					<div class="span12">

						<!-- <div>
							<font color="red" size="4" face="arial">
								<div style="float:left" id="title"></div>
							</font>
						</div> -->
						<div id="content" style="margin-left: 30px;"></div>
						<!--<a href="/agent/toBuyRecord" class="btn green" style="border-radius: 5px !important;">商城购买</a>-->
						<!--<a href="/agent/toRechargeRecord" class="btn" style="border-radius: 5px !important;">充值记录</a>-->
						<div
							style="border: 1px solid #DEDEDE;    -webkit-box-shadow: 0 0 10px rgba(189, 189, 189, 0.4);    padding: 10px;    box-sizing: border-box;">
							<div class="portlet box blue"
								style="border-top: 1px solid #B4CEF8;">
								<div class="portlet-body">
									<div class="portlet-title">

										<div class="caption">
											<i class="icon-move"></i>购卡记录
										</div>
									</div>
									<form action="#" class="form-search cf">
										<div class="control-group fl">
											<label class="control-label"> 开始时间：</label> <input
												class="Wdate" type="text" onclick="WdatePicker()"
												onfocus="WdatePicker()" id="startDate"
												style="width: 100px;height: 20px;">
										</div>
										<div class="control-group fl">
											<label class="control-label"> 结束时间：</label> <input
												class="Wdate" type="text" onclick="WdatePicker()"
												onfocus="WdatePicker()" id="endDate"
												style="width: 100px;height: 20px;">
											<button class="btn green" id="search" type="button"
												onclick="searchOne()">查询</button>
										</div>
									</form>
									<div id="toOpeRecordForm">
										<hr style="height:1px;border:none;border-top:2px ridge green;" />
										<form action="#" class="form-search cf">
											<div class="control-group fl">
												<label class="control-label"> 代理账号：</label> <input
													id="search-id-field" class="span1" type="text" id="endDate"
													style="width: 113px;height: 20px;">
												<button class="btn purple" id="search" type="button"
													onclick="searchOne()">查询</button>
											</div>
										</form>
										<hr style="height:1px;border:none;border-top:2px ridge green;" />
									</div>
									<!-- <table class="table table-striped table-hover table-bordered"
									id="example">
									<thead>
										<tr>
											<th>商品名称</th>
														<th>花费钻石</th>
											<th>卖家名称</th>
											<th>买家名称</th>
											<th>买家ID</th>
											<th>购卡张数</th>
											<th>消费时间</th>
										</tr>
									</thead>
									<tbody>
									</tbody>
								</table> -->

									<table class="tab_css_1" id="example">
										<thead>
											<tr>
												<th>买家名称</th>
												<th>买家ID</th>
												<th>卖家名称</th>
												<th>卖家ID</th>
												<th>售卖张数</th>
												<th>赠送张数</th>
												<th>消费时间</th>
											</tr>
										</thead>
										<tbody>
										</tbody>
									</table>

								</div>

							</div>
						</div>
						 <div class="grey-header" style="text-align:center" id="loadMore">
							<a class="w-clearfix w-inline-block small-button" href="#"
								>
								<div class="icon-button bigger">
									<div class="icon ion-ios-plus-empty"></div>
								</div>
								<div class="text-button">趣友欢乐棋牌为您提供服务</div>
							</a>
						</div> 
						<!-- END EXAMPLE TABLE PORTLET-->

					</div>

				</div>

				<!-- END PAGE CONTENT -->

			</div>

			<!-- END PAGE CONTAINER-->

		</div>

		<!-- END PAGE -->

	</div>

	<!-- END CONTAINER -->

	<!-- BEGIN FOOTER -->
	<!-- BEGIN CORE PLUGINS -->

	<script src="../js/mobile/jquery-1.10.1.min.js" type="text/javascript"></script>

	<script src="../js/mobile/jquery-migrate-1.2.1.min.js"
		type="text/javascript"></script>

	<!-- IMPORTANT! Load jquery-ui-1.10.1.custom.min.js before bootstrap.min.js to fix bootstrap tooltip conflict with jquery ui tooltip -->

	<script src="../js/mobile/jquery-ui-1.10.1.custom.min.js"
		type="text/javascript"></script>

	<script src="../js/mobile/bootstrap.min.js" type="text/javascript"></script>

	<script src="../js/jquery.dataTables.min.js" type="text/javascript"></script>

	<!--[if lt IE 9]>

	<script src="../js/mobile/excanvas.min.js"></script>

	<script src="js/respond.min.js"></script>

	<![endif]-->

	<script src="../js/mobile/jquery.slimscroll.min.js"
		type="text/javascript"></script>

	<script src="../js/mobile/jquery.blockui.min.js" type="text/javascript"></script>

	<script src="../js/mobile/jquery.cookie.min.js" type="text/javascript"></script>

	<script src="../js/mobile/jquery.uniform.min.js" type="text/javascript"></script>

	<!-- <script src="../js/mobile/commen/util.js?t=00000000012"
		type="text/javascript"></script> -->
	<script src="../js/mobile/bootbox.js" type="text/javascript"></script>
	<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
		document.write(unescape("%3Cspan id='cnzz_stat_icon_1261722399'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s95.cnzz.com/z_stat.php%3Fid%3D1261722399%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));
	</script>
	<style>
#cnzz_stat_icon_1261722399 {
	display: none;
}
</style>
	<!-- END CORE PLUGINS -->
	<!--<script>
		$.ajax({
			url: '/gameapi/getUserInfo?t=' + Math.random(),
			type: 'GET',
			dataType: 'JSON',
			success: function(response) {
				console.log(response);
				$("#mycounttop").html('剩余房卡 ：' + response.cardNum + ' 剩余钻石：' + response.diamond);
			},
			error: function() {
				bootbox.alert({
					buttons: {
						ok: {
							label: '确认',
							className: 'btn green'
						}
					},
					message: '请求失败，请联系管理员',
					callback: function() {}
				});
			}
		});
	</script>-->

	<!-- END FOOTER -->

	<!-- BEGIN PAGE LEVEL PLUGINS -->

	<script type="text/javascript" src="../js/mobile/select2.min.js"></script>


	<script type="text/javascript" src="../js/mobile/DT_bootstrap.js"></script>

	<!-- END PAGE LEVEL PLUGINS -->

	<!-- BEGIN PAGE LEVEL SCRIPTS -->

	<script src="../js/mobile/app.js"></script>

	<script src="../js/mobile/table-editable.js"></script>
	<script src="../js/mobile/jquery.validate.min.js"></script>
	<script src="../js/mobile/commen/sethead.js" type="text/javascript"></script>
	<script type="text/javascript">
		function downloadJSAtOnload() {
			var element = document.createElement("script");
			element.src = "../bower_components/responsive-tables/responsive-tables.js";
			document.body.appendChild(element);
		}
		/* if (window.addEventListener)
		  window.addEventListener("load", downloadJSAtOnload, false);
		else if (window.attachEvent)
		  window.attachEvent("onload", downloadJSAtOnload);
		else window.onload = downloadJSAtOnload; */
		console.log("加载第一次");
	</script>
	<script>
	
/* 		function loadMore() {
			start += pageSize;load();
		}
		function addRow(record) {
			i++;
			var rowTem = '<tr' + '">'
				+ '<td><p>' + record.sellerName + '</p></td>'
				+ '<td><p>' + record.buyerName + '</p></td>'
				+ '<td><p>' + record.buyerId + '</p></td>'
				+ '<td><p>' + parseInt(record.cardLCount + record.cardFCount) + '</p></td>'
				+ '<td><p>' + getLocalTime(new Date(record.sellTimeInMb)) + '</p></td>'
				+ '</tr>';
			$("#example tbody:last").append(rowTem);
	
		} */
		var start = 0;
		var pageSize = 10;
/* 		function load() {
			//a=Math.round((new Date()).getTime() / 1000)-86400 * 3*start;
			// b = a - 86400 * 3;
			doGetWithValidate('/cardRecordInMobile.do?type=1&start_index=' + start + '&end_index=' + pageSize, null, function(d) {
				if (d.data && d.data.length) {
					for (var i = 0; i < d.data.length; i++) {
						addRow(d.data[i]);
					}
				} else {
					$("#example tbody:last").append("暂无记录");
					$('#loadMore').hide();
				}
			});
		} */
	
	
		var table;
		$(document).ready(function() {
			var myDate = new Date();
			/*myDate.setMonth(myDate.getMonth() - 1);*/
			myDate.setMonth(myDate.getMonth());
			myDate.setDate(01);
			$("#startDate").val(format(myDate, 'yyyy-MM-dd'));
			$("#endDate").val(format(new Date(), 'yyyy-MM-dd'));
			/* if ($.fn.dataTable.isDataTable('#example')) {
				table = $('#example').DataTable();
			} else {
			
			} */
			table = $('#example').DataTable({
				//开启服务器模式
				"serverSide" : true,
				bLengthChange : true, //去掉每页显示多少条数据方法
				"sDom" : "<'row'<'col-md-6'l><'col-md-6'f>r>t<'row'<'col-md-12'i><'col-md-12 center-block'p>>",
				bDestroy : true,
				retrieve : true,
				bStateSave : true,
				"info" : false,
				bPaginate : true,
				aLengthMenu : [ 10, 20, 50 ],
				"processing" : true,
				searching : false,
				"aaSorting" : [ [ 1, "desc" ] ], //默认第几个排序,asc升序 desc降序      
				"bStateSave" : true, //状态保存            //
				"aoColumnDefs" : [ //
					/* {
						"bVisible" : false,
						"aTargets" : [ 3 ]
					}, //控制列的隐藏显示         */
					{
						"orderable" : false,
						"aTargets" : [ 1, 4 ] //不参与排序的列，编号从0开始          
					} ], // 不参与排序的
				ajax : function(data, callback, settings) {
					console.log(data);
					//封装请求参数  
					var param = {};
					param.limit = data.length; //页面显示记录条数，在页面显示每页显示多少项的时候  
					param.start = data.start; //开始的记录序号  
					param.page = (data.start / data.length) + 1; //当前页码  
					//ajax请求数据  
					$.ajax({
						type : "GET",
						url : base_url + '/buyCardInMobile.do',
						cache : false, //禁用缓存  
						data : {
							proxyIdStr : $('#search-id-field').val(),
							start_index : data.start,
							end_index : data.length,
							startDateStr : $("#startDate").val(),
							endDateStr : $("#endDate").val()
						/* type : 1,
						start_index : fnSettings()._iDisplayStart,
						end_index : fnSettings()._iDisplayLength */
						}, //传入组装的参数 
						dataType : "json",
						success : function(result) {
							//封装返回数据  
							var returnData = {};
							returnData.draw = data.draw; //这里直接自行返回了draw计数器,应该由后台返回  
							returnData.recordsTotal = result.recordsTotal; //返回数据全部记录  
							returnData.recordsFiltered = result.recordsFiltered; //后台不实现过滤功能，每次查询均视作全部结果  
							returnData.data = result.data; //返回的数据列表  
							//console.log(returnData);  
							//调用DataTables提供的callback方法，代表数据已封装完成并传回DataTables进行渲染  
							//此时的数据需确保正确无误，异常判断应在执行此回调前自行处理完毕  
							callback(returnData);
						}
					});
				},
	
				language : {
					"sProcessing" : "处理中...",
					"sLengthMenu" : "显示 _MENU_ 项结果",
					"sZeroRecords" : "没有匹配结果",
					"sInfo" : "显示第 _START_ 至 _END_ 项结果，共 _TOTAL_ 项",
					"sInfoEmpty" : "显示第 0 至 0 项结果，共 0 项",
					"sInfoFiltered" : "(由 _MAX_ 项结果过滤)",
					"sInfoPostFix" : "",
					"sSearch" : "搜索:",
					"sUrl" : "",
					"sEmptyTable" : "表中数据为空",
					"sLoadingRecords" : "载入中...",
					"sInfoThousands" : ",",
					"oPaginate" : {
						"sFirst" : "首页",
						"sPrevious" : "上页",
						"sNext" : "下页",
						"sLast" : "末页"
					},
					"oAria" : {
						"sSortAscending" : ": 以升序排列此列",
						"sSortDescending" : ": 以降序排列此列"
					}
				},
				columns : [
					{
						data : 'buyerName'
					},
					{
						data : 'buyerId'
					},
					{
						data : 'sellerName'
					},
					{
						data : 'sellerId'
					},
					{
						data : 'cardFCount'
					},
					{
						data : 'cardLCount'
					},
					{
						data : 'sellTimeInMb',
						"render" : function(data, type, full, meta) {
							return getLocalTime(new Date(data));
						}
					}
				]
			});
			table.ajax.reload();
			//table.fnSettings().
			//table.destroy();
		/* 	downloadJSAtOnload();
			refreshHtmlInfo(); */
			//load();
			$("#example").wrap("<div class='scroll-panel'' />");
		});
		function searchOne() {
			table.ajax.reload();
		}
	</script>

	<script src="../js/mobile/commen/logout.js" type="text/javascript"></script>
	<script src="../js/jquery.autogrow-textarea.js"></script>
	<script src="../js/chosen/chosen.jquery.min.js"></script>
	<script src="../js/jquery.iphone.toggle.js"></script>
	<script src="../js/colorbox/jquery.colorbox-min.js"></script>
	<script src="../js/jquery.history.js"></script>
	<script src="../bower_components/My97DatePicker/WdatePicker.js"></script>
	<script src="../js/charisma.js" type="text/javascript"></script>
</body>

<!-- END BODY -->

</html>